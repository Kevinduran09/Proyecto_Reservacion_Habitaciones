<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center w-100 px-5">
    <!-- Sección de Formulario y Título -->
    <div class="form-container">
      <div class="text-center mb-4">
        <h3 class="text-white display-3">Formulario de cliente</h3>
      </div>
      <form
        class="text-white"
        #userForm="ngForm"
        (ngSubmit)="onsubmit()"
        enctype="multipart/form-data"
      >
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="nombre">Nombre</label>
              <input
                id="nombre"
                type="text"
                #nombre="ngModel"
                class="form-control"
                name="nombre"
                required
                [(ngModel)]="client.nombre"
              />

              <label for="cedula">Cedula de Identidad</label>
              <input
                id="cedula"
                type="text"
                #cedula="ngModel"
                class="form-control"
                name="cedula"
                required
                [(ngModel)]="client.cedula"
              />

              <label for="nomUsuario">Nombre de usuario</label>
              <input
                id="nomUsuario"
                type="text"
                #nomUsuario="ngModel"
                class="form-control"
                name="nomUsuario"
                required
                [(ngModel)]="client.nomUsuario"
              />

              <label for="foto">Foto</label>
              <div class="mb-2">
                <input
                  id="foto"
                  type="file"
                  (change)="onFileSelected($event)"
                  class="form-control"
                  name="foto"
                />
              </div>
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-group">
              <label for="apellidos">Apellidos</label>
              <input
                id="apellidos"
                type="text"
                #apellidos="ngModel"
                class="form-control"
                name="apellidos"
                required
                [(ngModel)]="client.apellidos"
              />

              <label for="email">Correo Electrónico</label>
              <input
                id="email"
                type="text"
                #email="ngModel"
                class="form-control"
                name="email"
                required
                [(ngModel)]="client.correo"
              />

              <label for="contrasena">Contraseña</label>

              <div class="position">
                <input class="form-control form-control-lg bg-light fs-6 input-con-ellipsis" name="contrasena" required
                  [(ngModel)]="client.contrasena" />
              
                <fa-icon [icon]="faeyeslash" (click)="toggleContrasena()" id="togglepassword"></fa-icon>
              </div>
              <label for="rolId">Tipo de rol</label>
              <select id="rolId" #rolId="ngModel" class="form-control" name="rolId" required
                [(ngModel)]="client.rol_id">
                <option [value]=1>Administrador</option>
                <option [value]=2>Usuario</option>

              </select>
            </div>
          </div>
        </div>
        <pre>{{ editForm.value | json }}</pre> <!-- Muestra los valores actuales del formulario -->
        <pre>{{ editForm.valid | json }}</pre> <!-- Muestra si el formulario es válido o no -->

        <div class="text-center mt-3">
          @if(client.id!= null){
          <button
            type="submit"
            class="btn btn-success mt-2"
            [disabled]="userForm.invalid"
          >
            Actualizar
          </button>
          } @else{
          <button
            type="submit"
            class="btn btn-success mt-2"
            [disabled]="userForm.invalid"
          >
            Agregar
          </button>
          }
        </div>
      </form>
    </div>

    <!-- Sección de Imagen del Usuario -->
    <div class="image-container" *ngIf="imagenRender || client.url">
      <div class="text-center">
        <h4 class="text-white">Imagen del Usuario</h4>
        <img
          [src]="imagenRender || client.url"
          alt="Foto del Usuario"
          class="img-thumbnail"
          style="max-width: 300px"
        />
      </div>
    </div>
  </div>
</div>
